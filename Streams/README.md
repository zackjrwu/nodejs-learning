# ğŸ“¦ Node.js Readable Stream Chunk Size Demo

é€™æ˜¯ä¸€å€‹ä½¿ç”¨ Node.js `fs.createReadStream` çš„ç°¡å–®ç¯„ä¾‹ï¼Œç”¨ä¾†å±•ç¤ºå¦‚ä½•**é€å¡Šï¼ˆchunkï¼‰è®€å–æ–‡å­—æª”æ¡ˆ**ï¼Œä¸¦çµ±è¨ˆæ¯ä¸€å¡Šçš„å¤§å°èˆ‡æ•´é«”è®€å–è¡Œç‚ºã€‚

---

## ğŸš€ åŠŸèƒ½ç‰¹è‰²

- ä½¿ç”¨ `fs.createReadStream` è®€å–æª”æ¡ˆå…§å®¹ï¼ˆé è¨­ chunk å¤§å°ç‚º **64KB**ï¼‰
- é€éäº‹ä»¶æ©Ÿåˆ¶ï¼ˆ`.on('data')`, `.on('end')`, `.on('error')`ï¼‰éåŒæ­¥è™•ç†æª”æ¡ˆè³‡æ–™
- è‡ªå‹•çµ±è¨ˆï¼š
  - âœ… æ¯å€‹ chunk çš„å¤§å°ï¼ˆbytesï¼‰
  - âœ… ç¸½å…±è®€å–å¹¾å€‹ chunk
  - âœ… æ‰€æœ‰ chunk çš„**ç¸½å¤§å°**
  - âœ… æœ€å¾Œä¸€å€‹ chunk çš„å¤§å°
  - âœ… æª”æ¡ˆæ˜¯å¦ã€Œä¸€æ¬¡å°±è®€å®Œã€

---

## ğŸ’¡ Stream æ ¸å¿ƒè§€å¿µå‚™å¿˜

| å•é¡Œ | å›ç­” |
|------|------|
| `fs.createReadStream()` å¯ä»¥ç”¨ callback å—ï¼Ÿ | âŒ ä¸è¡Œï¼Œå®ƒå›å‚³çš„æ˜¯ Stream ç‰©ä»¶ï¼Œä¸æ”¯æ´å‚³çµ± callback å½¢å¼ |
| è¦æ€éº¼æ¥è³‡æ–™ï¼Ÿ | âœ… ä½¿ç”¨ `.on('data')`, `.on('end')`, `.on('error')` ç­‰äº‹ä»¶ç¶å®š |
| å¦‚æœæƒ³è¦ callback æ¨¡å¼ï¼Ÿ | âœ… å¯ä»¥è‡ªè¡Œå°è£é‚è¼¯ï¼Œå°‡æ‰€æœ‰è³‡æ–™çµ„åˆèµ·ä¾†å¾Œç”¨ callback å‚³å‡ºï¼ˆæ¨¡æ“¬ readFile è¡Œç‚ºï¼‰ |

---

## âš™ï¸ è‡ªè¨‚é¸é …ï¼šchunk å¤§å°ï¼ˆ`highWaterMark`ï¼‰

è‹¥å¸Œæœ›è‡ªè¨‚æ¯æ¬¡è®€å–çš„ chunk å¤§å°ï¼Œå¯ä»¥è¨­å®š `highWaterMark`ï¼Œä¾‹å¦‚è¨­å®šç‚º 8KBï¼š

```js
const readable = fs.createReadStream('./story.txt', {
  encoding: 'utf8',
  highWaterMark: 8 * 1024 // æ¯æ¬¡è®€å– 8KB
});
